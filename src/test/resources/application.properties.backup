spring.application.name=development-hour-management

# Test Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/devhour_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=devhour_user
spring.datasource.password=devhour_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP Configuration
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# MyBatis Configuration
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.type-aliases-package=com.devhour.domain.model
mybatis.configuration.default-fetch-size=100
mybatis.configuration.default-statement-timeout=30

# Flyway Configuration - Enabled for tests to create database schema
spring.flyway.enabled=true

# JWT Configuration for tests
app.jwt.secret=test-jwt-secret-key-for-development-hour-management-application-minimum-256-bits
app.jwt.expiration-ms=86400000
app.jwt.issuer=devhour-management-test

# Logging Configuration
logging.level.com.devhour=DEBUG
logging.level.org.mybatis=DEBUG
logging.level.org.springframework.security=DEBUG

# Allow bean definition overriding for tests
spring.main.allow-bean-definition-overriding=true

spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# JIRA Integration Configuration for tests
jira.base-url=https://test-jira-instance.atlassian.net
jira.api-version=2
jira.timeout.connection=30000
jira.timeout.read=60000
jira.retry.max-attempts=3
jira.retry.backoff-multiplier=2.0
jira.auth.username-env-key=JIRA_USERNAME
jira.auth.token-env-key=JIRA_API_TOKEN

# JIRA Sync Batch Processing Configuration for tests
jira.sync.batch-size=100
jira.sync.memory-efficient-processing=true
jira.sync.progress-logging.enabled=true
jira.sync.progress-logging.interval=10
jira.sync.streaming.chunk-size=50
jira.sync.performance-monitoring.enabled=true

# JIRA Sync Scheduler Configuration for tests (disabled by default)
jira.sync.scheduler.enabled=false
jira.sync.scheduler.cron=0 0 * * * *
jira.sync.scheduler.lock-at-most-for=PT10M
jira.sync.scheduler.lock-at-least-for=PT1M

# Disable Spring Boot HTTP client autoconfiguration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.http.client.HttpClientAutoConfiguration,org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration